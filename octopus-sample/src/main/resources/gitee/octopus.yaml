name: Gitee
autoStop: true
clearStoreOnStartup: true
clearStoreOnStop: true
downloader: OKHttp
globalDownloadConfig:
  charset: UTF-8
  timeoutInSeconds: 60
ignoreSeedsWhenStoreHasRequests: true
maxReplays: 1
replayFailedRequest: true
seeds:
  - https://gitee.com/explore/all?order=starred
sites:
  - host: gitee.com
    limitInSecond: 1
store:
  sqlite:
    db: /Users/yann/Downloads/octopus.db
    table: gitee
threads: 20
processors:
  - matcher: Html
    collector: Logging
    extractor:
      fields:
        - extractor:
            fields:
              - name: name
                selector:
                  css: .project-title a.title
              - name: address
                selector:
                  css:
                    expression: .project-title a.title
                    attr: href
                    denoiser:
                      format: https://gitee.com%s
                      regex: ^.*$
              - name: tags
                selector:
                  css: .project-label-item
              - name: description
                selector:
                  css: .project-desc
              - name: stars
                selector:
                  css: .stars-count
                type: Integer
              - name: url
                selector:
                  url: {}
                type: String
          multi: true
          name: projects
          selector:
            css:
              expression: .items .item
              self: true
      links:
        - priority: 1
          repeatable: false
          selector:
            xpath: //a[@rel='next'][position()=2]/@href
